{"ast":null,"code":"import axios from \"axios\";\nimport Cookies from \"universal-cookie\";\nimport { LOGIN, LOGOUT, SIGNUP } from \"./types\";\nconst cookies = new Cookies();\nexport const loginRequest = userData => dispatch => {\n  const username = userData.username;\n  const pw = userData.password;\n  axios.post(\"http://localhost:8000/auth/api/token/\", {\n    username: username,\n    password: pw\n  }).then(res => {\n    cookies.set(\"access\", res.data.access, {\n      maxAge: 7200\n    });\n    dispatch({\n      type: LOGIN,\n      payload: true\n    });\n  }).catch(err => {\n    console.error(err);\n  });\n};\nexport const logoutRequest = () => dispatch => {\n  cookies.remove(\"access\");\n  dispatch({\n    type: LOGOUT,\n    payload: false\n  });\n};\nexport const signupRequest = userData => dispatch => {\n  const email = userData.email;\n  const username = userData.username;\n  const pw = userData.password;\n  axios.post(\"http://localhost:8000/users/api/userCreate\", {\n    email: email,\n    username: username,\n    password: pw\n  }).then(res => {\n    console.log(res);\n    dispatch({\n      type: SIGNUP,\n      payload: true\n    });\n  }).catch(err => {\n    console.log(err);\n  });\n};","map":{"version":3,"sources":["/home/raz/Projects/socialNet-dj-reactRedux/frontend/social/src/actions/loginActions.js"],"names":["axios","Cookies","LOGIN","LOGOUT","SIGNUP","cookies","loginRequest","userData","dispatch","username","pw","password","post","then","res","set","data","access","maxAge","type","payload","catch","err","console","error","logoutRequest","remove","signupRequest","email","log"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,OAAP,MAAoB,kBAApB;AAEA,SAASC,KAAT,EAAgBC,MAAhB,EAAwBC,MAAxB,QAAsC,SAAtC;AACA,MAAMC,OAAO,GAAG,IAAIJ,OAAJ,EAAhB;AAEA,OAAO,MAAMK,YAAY,GAAGC,QAAQ,IAAIC,QAAQ,IAAI;AAClD,QAAMC,QAAQ,GAAGF,QAAQ,CAACE,QAA1B;AACA,QAAMC,EAAE,GAAGH,QAAQ,CAACI,QAApB;AACAX,EAAAA,KAAK,CACFY,IADH,CACQ,uCADR,EACiD;AAC7CH,IAAAA,QAAQ,EAAEA,QADmC;AAE7CE,IAAAA,QAAQ,EAAED;AAFmC,GADjD,EAKGG,IALH,CAKQC,GAAG,IAAI;AACXT,IAAAA,OAAO,CAACU,GAAR,CAAY,QAAZ,EAAsBD,GAAG,CAACE,IAAJ,CAASC,MAA/B,EAAuC;AACrCC,MAAAA,MAAM,EAAE;AAD6B,KAAvC;AAIAV,IAAAA,QAAQ,CAAC;AACPW,MAAAA,IAAI,EAAEjB,KADC;AAEPkB,MAAAA,OAAO,EAAE;AAFF,KAAD,CAAR;AAID,GAdH,EAeGC,KAfH,CAeSC,GAAG,IAAI;AACZC,IAAAA,OAAO,CAACC,KAAR,CAAcF,GAAd;AACD,GAjBH;AAkBD,CArBM;AAuBP,OAAO,MAAMG,aAAa,GAAG,MAAMjB,QAAQ,IAAI;AAC7CH,EAAAA,OAAO,CAACqB,MAAR,CAAe,QAAf;AACAlB,EAAAA,QAAQ,CAAC;AACPW,IAAAA,IAAI,EAAEhB,MADC;AAEPiB,IAAAA,OAAO,EAAE;AAFF,GAAD,CAAR;AAID,CANM;AAQP,OAAO,MAAMO,aAAa,GAAGpB,QAAQ,IAAIC,QAAQ,IAAI;AACnD,QAAMoB,KAAK,GAAGrB,QAAQ,CAACqB,KAAvB;AACA,QAAMnB,QAAQ,GAAGF,QAAQ,CAACE,QAA1B;AACA,QAAMC,EAAE,GAAGH,QAAQ,CAACI,QAApB;AAEAX,EAAAA,KAAK,CACFY,IADH,CACQ,4CADR,EACsD;AAClDgB,IAAAA,KAAK,EAAEA,KAD2C;AAElDnB,IAAAA,QAAQ,EAAEA,QAFwC;AAGlDE,IAAAA,QAAQ,EAAED;AAHwC,GADtD,EAMGG,IANH,CAMQC,GAAG,IAAI;AACXS,IAAAA,OAAO,CAACM,GAAR,CAAYf,GAAZ;AACAN,IAAAA,QAAQ,CAAC;AACPW,MAAAA,IAAI,EAAEf,MADC;AAEPgB,MAAAA,OAAO,EAAE;AAFF,KAAD,CAAR;AAID,GAZH,EAaGC,KAbH,CAaSC,GAAG,IAAI;AACZC,IAAAA,OAAO,CAACM,GAAR,CAAYP,GAAZ;AACD,GAfH;AAgBD,CArBM","sourcesContent":["import axios from \"axios\";\nimport Cookies from \"universal-cookie\";\n\nimport { LOGIN, LOGOUT, SIGNUP } from \"./types\";\nconst cookies = new Cookies();\n\nexport const loginRequest = userData => dispatch => {\n  const username = userData.username;\n  const pw = userData.password;\n  axios\n    .post(\"http://localhost:8000/auth/api/token/\", {\n      username: username,\n      password: pw\n    })\n    .then(res => {\n      cookies.set(\"access\", res.data.access, {\n        maxAge: 7200\n      });\n\n      dispatch({\n        type: LOGIN,\n        payload: true\n      });\n    })\n    .catch(err => {\n      console.error(err);\n    });\n};\n\nexport const logoutRequest = () => dispatch => {\n  cookies.remove(\"access\");\n  dispatch({\n    type: LOGOUT,\n    payload: false\n  });\n};\n\nexport const signupRequest = userData => dispatch => {\n  const email = userData.email;\n  const username = userData.username;\n  const pw = userData.password;\n\n  axios\n    .post(\"http://localhost:8000/users/api/userCreate\", {\n      email: email,\n      username: username,\n      password: pw\n    })\n    .then(res => {\n      console.log(res);\n      dispatch({\n        type: SIGNUP,\n        payload: true\n      });\n    })\n    .catch(err => {\n      console.log(err);\n    });\n};\n"]},"metadata":{},"sourceType":"module"}